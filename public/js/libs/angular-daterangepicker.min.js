(function(){var e;e=angular.module("daterangepicker",[]),e.constant("dateRangePickerConfig",{clearLabel:"Clear",locale:{separator:" - ",format:"YYYY-MM-DD"}}),e.directive("dateRangePicker",["$compile","$timeout","$parse","dateRangePickerConfig",function(e,t,n,a){return{require:"ngModel",restrict:"A",scope:{min:"=",max:"=",model:"=ngModel",opts:"=options",clearable:"="},link:function(e,t,n,r){var o,u,l,i,c,s,f,d,m,p,D,g,v,k;return i=function(){var e,t;return t=angular.extend.apply(angular,Array.prototype.slice.call(arguments).map(function(e){return null!=e?e.locale:void 0}).filter(function(e){return!!e})),e=angular.extend.apply(angular,arguments),e.locale=t,e},v=$(t),g=e.opts,k=i({},a,g),c=null,o=function(){return c.setStartDate(),c.setEndDate()},s=function(e){return function(t){if(c&&t)return e(moment(t))}},d=s(function(e){return c.endDate<e&&c.setEndDate(e),k.startDate=e,c.setStartDate(e)}),f=s(function(e){return c.startDate>e&&c.setStartDate(e),k.endDate=e,c.setEndDate(e)}),m=function(e){return function(t,n){return!t||!n||e(moment(t),moment(n))}},D=m(function(e,t){return e.isBefore(t)||e.isSame(t,"day")}),p=m(function(e,t){return e.isAfter(t)||e.isSame(t,"day")}),r.$formatters.push(function(e){var t;return t=function(e){return moment.isMoment(e)?e.format(k.locale.format):moment(e).format(k.locale.format)},k.singleDatePicker&&e?t(e):e.startDate?[t(e.startDate),t(e.endDate)].join(k.locale.separator):""}),r.$render=function(){return r.$modelValue&&r.$modelValue.startDate?(d(r.$modelValue.startDate),f(r.$modelValue.endDate)):o(),v.val(r.$viewValue)},r.$parsers.push(function(e){var t,n,a;return t=function(e){return moment(e,k.locale.format)},n={startDate:null,endDate:null},angular.isString(e)&&e.length>0&&(k.singleDatePicker?n=t(e):(a=e.split(k.locale.separator).map(t),n.startDate=a[0],n.endDate=a[1])),n}),r.$isEmpty=function(e){return!(angular.isString(e)&&e.length>0)},u=function(){var t,n;v.daterangepicker(angular.extend(k,{autoUpdateInput:!1}),function(t,n){return e.$apply(function(){return e.model=k.singleDatePicker?t:{startDate:t,endDate:n}})}),c=v.data("daterangepicker"),n=[];for(t in k.eventHandlers)n.push(v.on(t,function(t){var n;return n=t.type+"."+t.namespace,e.$evalAsync(k.eventHandlers[n])}));return n},u(),e.$watch("model.startDate",function(e){return d(e)}),e.$watch("model.endDate",function(e){return f(e)}),l=function(t,a,o,l){if(n[t])return r.$validators[t]=function(e){return e&&a(k[l],e[o])},e.$watch(t,function(e){return k[l]=!!e&&moment(e),u()})},l("min",D,"startDate","minDate"),l("max",p,"endDate","maxDate"),n.options&&e.$watch("opts",function(e){return k=i(k,e),u()},!0),n.clearable&&e.$watch("clearable",function(t){if(t&&(k=i(k,{locale:{cancelLabel:k.clearLabel}})),u(),t)return v.on("cancel.daterangepicker",function(){return e.$apply(function(){return e.model=k.singleDatePicker?null:{startDate:null,endDate:null}})})}),e.$on("$destroy",function(){return null!=c?c.remove():void 0})}}}])}).call(this);